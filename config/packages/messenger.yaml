framework:
  messenger:
    # Transport par dÃƒÆ’Ã‚Â©faut pour les messages ÃƒÆ’Ã‚Â©chouÃƒÆ’Ã‚Â©s
    failure_transport: failed

    transports:
      # Transport asynchrone principal (emails, notifications, jobs)
      async:
        dsn: '%env(MESSENGER_TRANSPORT_DSN)%'
        options:
          use_notify: true
          check_delayed_interval: 60000
        retry_strategy:
          max_retries: 3
          multiplier: 2

      # Transport dÃƒÆ’Ã‚Â©diÃƒÆ’Ã‚Â© aux messages ÃƒÆ’Ã‚Â©chouÃƒÆ’Ã‚Â©s
      failed: 'doctrine://default?queue_name=failed'

    routing:
      # Routage Symfony natif (emails via Mailer)
      Symfony\Component\Mailer\Messenger\SendEmailMessage: async

      # Routage pour les messages personnalisÃƒÆ’Ã‚Â©s TalentÃƒÆ’Ã‚Â©ko
      App\Message\NewMessageNotification: async
      App\Message\NewExchangeNotification: async


