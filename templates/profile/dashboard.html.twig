{# ============================================================
   templates/profile/dashboard.html.twig
   Tableau de bord utilisateur — TalentÉkô
   ============================================================ #}

{% extends 'base.html.twig' %}

{% block title %}
  Mon tableau de bord | TalentÉkô
{% endblock %}

{% block body %}
<div class="mt-10 text-left">
  <a onclick="history.back()" class="btn-link inline-flex items-center gap-2 cursor-pointer">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-4 w-4"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M15 19l-7-7 7-7" />
    </svg>
    Retour
  </a>
</div>
{% include 'profile/_profile_nav.html.twig' %}
  <section class="mx-auto max-w-6xl px-4 py-10">
<h1 class="mb-8 flex items-center gap-2 text-3xl font-bold text-talenteko-blue-900">
  <svg xmlns="http://www.w3.org/2000/svg"
       class="h-8 w-8 text-talenteko-orange-500"
       fill="none"
       viewBox="0 0 24 24"
       stroke="currentColor">
    <path stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-4 0-8 2-8 4v1h16v-1c0-2-4-4-8-4z" />
  </svg>
  <span>Mon profil</span>
</h1>

{# === NAVBAR SECTIONS === #}

    {# --- Profil résumé --- #}
    <div
      class="mb-8 mt-10 flex items-center gap-4 rounded-xl border border-gray-200 bg-white p-6 shadow-sm"
    >
      <div
        class="flex h-16 w-16 items-center justify-center rounded-full bg-talenteko-peach-200 text-xl font-bold text-talenteko-orange-500"
      >
        {{ (app.user.pseudo ?? 'M')|slice(0, 1)|upper }}
      </div>
      <div>
        <div class="text-lg font-semibold text-talenteko-blue-900">
          {{ app.user.pseudo }}#{{ app.user.tag }}
        </div>
        <div class="text-sm text-gray-500">
          {{ app.user.location ?? 'Ville non renseignée' }}
        </div>
      </div>
    </div>
{# --- À propos / Bio / Compétences --- #}
<div class="mb-8 rounded-xl border border-gray-200 bg-white p-6 shadow-sm space-y-4">

    <h2 class="text-xl font-bold text-talenteko-orange-500 mb-2">À propos de moi</h2>

    <p class="text-gray-700 whitespace-pre-line">
        {{ app.user.profile.bio ?? 'Aucune description renseignée.' }}
    </p>

    <hr class="border-gray-200 my-4"/>

    <h3 class="font-bold text-talenteko-blue-900">Compétences proposées</h3>
    <p class="text-gray-700 whitespace-pre-line">
        {{ app.user.profile.skillsOffered ?? 'Aucune compétence renseignée.' }}
    </p>

    <h3 class="font-bold text-talenteko-blue-900 mt-4">Compétences recherchées</h3>
    <p class="text-gray-700 whitespace-pre-line">
        {{ app.user.profile.skillsWanted ?? 'Aucune compétence renseignée.' }}
    </p>
</div>
<div class="flex flex-col sm:flex-row gap-4">
    <a href="{{ path('app_profile_edit') }}"
       class="btn-primary inline-flex items-center justify-center">
        <i class="fa-solid fa-pen mr-2"></i>
        Modifier mon profil
    </a>
    <a href="{{ path('app_user_delete') }}"
       class="btn-outline text-talenteko-orange-500 border-talenteko-orange-500
              inline-flex items-center justify-center">
        <i class="fa-solid fa-trash mr-2"></i>
        Supprimer mon compte
    </a>
</div>

    {# --- Actions rapides --- #}
    <div class="mt-12 space-y-6">
    <div class="mb-6">
      <h2 class="text-2xl font-bold text-talenteko-blue-900">Actions rapides</h2>
      <p class="text-gray-700">
        Accédez rapidement aux fonctionnalités principales de votre compte.
      </p>
</div>

    {# --- Liens d’action principaux --- #}
    <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
      <a
        href="{{ path('app_listing_new') }}"
        class="rounded-xl bg-talenteko-orange-500 p-6 text-center text-white shadow transition hover:shadow-md focus:outline-none focus:ring-2 focus:ring-talenteko-orange-500"
      >
        <h2 class="mb-2 inline-flex items-center justify-center gap-2 text-xl font-bold">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 4v16m8-8H4"
            />
          </svg>Déposer une annonce
        </h2>
        <p>
          Partagez vos compétences ou trouvez de l’aide.
        </p>
      </a>

      <a
        href="{{ path('app_profile_favoris') }}"
        class="rounded-xl border border-gray-200 bg-white p-6 text-center shadow transition hover:shadow-md focus:outline-none focus:ring-2 focus:ring-talenteko-orange-500"
      >
        <h2
          class="mb-2 inline-flex items-center justify-center gap-2 text-xl font-bold text-talenteko-blue-900"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 text-talenteko-orange-500"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M11.645 20.91l-.007-.003-.011-.006a16.965 16.965 0 01-1.214-.708 22.06 22.06 0 01-2.563-1.72C4.64 15.817 2 12.978 2 9.5a5.5 5.5 0 019-4.243A5.5 5.5 0 0120 9.5c0 3.478-2.64 6.317-5.85 8.973a22.06 22.06 0 01-2.563 1.72 16.965 16.965 0 01-1.214.708l-.011.006-.007.003-.003.001a.75.75 0 01-.65 0l-.003-.001z"
            />
          </svg>Mes favoris
        </h2>
        <p>
          Consultez les annonces que vous avez enregistrées.
        </p>
      </a>
    </div>
    </div>
  </section>
{% endblock %}
