{# templates/styleguide/forms.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}
	Styleguide Formulaires | TalentÉkô
{% endblock %}

{% block body %}
	{% include 'styleguide/_nav.html.twig' %}

	<main class="container mx-auto space-y-12 px-6 py-12">
		<header class="space-y-2">
			<h1 class="text-primary-color text-3xl font-bold">Styleguide Formulaires | TalentÉkô</h1>
			<p class="text-gray-600">
				Composants de formulaires accessibles : labels, aides, erreurs et focus.
				<strong>Avec Stimulus (JS léger)</strong>
			</p>
		</header>

		{# Champs texte / base #}
		<section class="space-y-6">
			<h2 class="text-xl font-semibold">Champs texte</h2>

			<form class="tk-form grid gap-6 overflow-visible md:grid-cols-2" novalidate aria-labelledby="form-section-title">
				<legend id="form-section-title" class="sr-only">
					Exemples de champs de formulaire
				</legend>

				{# Nom (normal) #}
				<div class="space-y-2">
					<label for="sg-name" class="form-label">Nom</label>
					<input id="sg-name" name="name" type="text" placeholder="Votre nom" class="form-input" aria-describedby="sg-name-help"/>
					<p id="sg-name-help" class="form-hint">
						Saisis ton nom complet.
					</p>
				</div>

				{# Email (état erreur) #}
				<div class="space-y-2">
					<label for="sg-email" class="form-label">Email</label>
					<input id="sg-email" name="email" type="email" value="exemple@" class="form-input is-invalid" aria-invalid="true" aria-describedby="sg-email-error sg-email-help"/>
					<p id="sg-email-error" class="form-error" aria-live="polite">
						Adresse email invalide.
					</p>
					<p id="sg-email-help" class="form-hint">
						Format attendu : nom@domaine.tld
					</p>
				</div>

				{# Catégorie (Custom Select Stimulus) #}
				<div class="space-y-2">
					<label id="sg-category-label" class="form-label">Catégorie</label>
					{% include 'components/_custom_select.html.twig' with {
            name: 'category',
            options: [
              'Administratif',
              'Arts',
              'Bien-être',
              'Bricolage',
              'Cuisine',
              'Éducation',
              'Informatique',
              'Jardinage',
              'Juridique',
              'Langues',
              'Marketing',
              'Sport'
            ],
            selected: 'Choisir une catégorie'
          } %}
				</div>

				{# Description (textarea) #}
				<div class="space-y-2">
					<label for="sg-desc" class="form-label">Description</label>
					<textarea id="sg-desc" name="desc" rows="4" placeholder="Décris ton annonce..." class="form-input" aria-describedby="sg-desc-help"></textarea>
					<p id="sg-desc-help" class="form-hint">
						Max. 500 caractères.
					</p>
				</div>

				{# Champ désactivé (non interactif) #}
				<div class="space-y-2">
					<label for="sg-disabled" class="form-label">Champ désactivé</label>
					<input id="sg-disabled" type="text" disabled value="Inactif" class="form-input"/>
				</div>
			</form>
		</section>

		{# Choix (checkbox / radio) #}
		<section class="space-y-6">
			<h2 class="text-xl font-semibold">Choix (checkbox / radio)</h2>

			<div class="grid gap-8 md:grid-cols-2">
				<fieldset class="space-y-3">
					<legend class="text-primary-color font-semibold">
						Catégories
					</legend>

					<label class="flex items-center gap-3">
						<input type="checkbox" class="form-checkbox"/>
						<span>Musique</span>
					</label>
					<label class="flex items-center gap-3">
						<input type="checkbox" class="form-checkbox"/>
						<span>Cuisine</span>
					</label>
					<label class="flex items-center gap-3">
						<input type="checkbox" class="form-checkbox"/>
						<span>Sport</span>
					</label>
				</fieldset>

				<fieldset class="space-y-3">
					<legend class="text-primary-color font-semibold">
						Type d’annonce
					</legend>

					<label class="flex items-center gap-3">
						<input type="radio" name="type" class="form-radio" checked/>
						<span>Propose</span>
					</label>
					<label class="flex items-center gap-3">
						<input type="radio" name="type" class="form-radio"/>
						<span>Recherche</span>
					</label>
				</fieldset>
			</div>
		</section>

		{# Upload images (drag & drop) #}
		<section class="space-y-6">
			<h2 class="text-xl font-semibold">Upload d’image (drag & drop)</h2>

			<div class="tk-form">
				<label for="sg-upload" class="relative flex h-36 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 text-gray-400 transition focus-within:ring-2 focus-within:ring-talenteko-orange-500 hover:border-talenteko-orange-500 hover:text-talenteko-orange-500">
					<i class="fa-solid fa-cloud-arrow-up mb-1 text-2xl" aria-hidden="true"></i>
					<span class="text-sm font-medium">Cliquez ou déposez vos images</span>
					<input type="file" id="sg-upload" name="upload" accept="image/*" multiple class="absolute inset-0 cursor-pointer opacity-0"/>
				</label>

				<p class="form-hint mt-2">
					Formats autorisés : JPG, PNG — max 5 Mo.
				</p>
			</div>
		</section>

		{# Actions (boutons) #}
		<section class="space-y-6">
			<h2 class="text-xl font-semibold">Actions</h2>

			<div class="flex flex-wrap items-center gap-4">
				<button type="button" class="btn-primary sm:min-w-[200px]">
					<i class="fa fa-check" aria-hidden="true"></i>
					<span>Valider</span>
				</button>

				<button type="button" class="btn-outline sm:min-w-[200px]">
					<span>Annuler</span>
				</button>

				<a href="{{ path('app_home') }}" class="btn-link" aria-label="Retour à l’accueil">
					<i class="fa fa-arrow-left" aria-hidden="true"></i>
					<span>Retour à l’accueil</span>
				</a>
			</div>

			<p class="text-sm text-gray-500">
				Les boutons respectent les normes d’accessibilité et utilisent le kit
				<code>.btn-*</code>.
			</p>
		</section>
		{# Focus & aides #}
		<section class="space-y-3">
			<h2 class="text-xl font-semibold">Focus & aides</h2>
			<p class="text-gray-600">
				Utilise
				<kbd>Tab</kbd>
				pour naviguer. Les champs affichent un
				<strong>anneau de focus orange</strong>, et les aides sont reliées via
				<code>aria-describedby</code>.
			</p>
		</section>
	</main>
{% endblock %}
