{# templates/partials/_header.html.twig #}
<header role="banner" class="bg-white">
  <div
    class="mx-auto flex w-full max-w-7xl items-center justify-between gap-6 px-6 py-3"
  >
    {# 1) LOGO #}
    <a
      href="{{ path('app_home') }}"
      class="flex shrink-0 flex-col items-center text-center"
      aria-label="Retour à l'accueil Talentéko"
    >
      <img
        src="{{ asset('images/talenteko_logo.png') }}"
        alt="Logo Talentéko"
        class="max-h-10 w-auto rounded-full object-contain"
      />
      <span class="text-xs leading-tight font-extrabold">
        <span class="text-talenteko-blue">Talent</span>
        <span class="text-talenteko-orange-500">éko</span>
      </span>
    </a>

    {# 2) RECHERCHE #}
    <form
      action="{{ path('app_search') }}"
      method="get"
      role="search"
      aria-label="Recherche de compétences"
      class="relative max-w-xl min-w-[220px] flex-1"
    >
      <input
        type="search"
        name="q"
        placeholder="Rechercher une compétence"
        aria-label="Rechercher une compétence"
        class="border-talenteko-orange-500 text-talenteko-blue focus:ring-talenteko-orange-500 focus:border-talenteko-orange-500 w-full rounded-full border py-2 pr-4 pl-10 placeholder-gray-400 transition focus:ring-2 focus:outline-none"
      />
      <i
        class="fa fa-search text-talenteko-orange-500 absolute top-2.5 left-3"
        aria-hidden="true"
      ></i>
    </form>

    {# 3) NAVIGATION + CTA #}
    <div class="flex shrink-0 items-center gap-4 whitespace-nowrap">
      <nav aria-label="Navigation principale" class="flex items-center gap-6">
        <a
          href="{{ path('app_search') }}"
          class="text-talenteko-orange-500 flex items-center gap-2 font-semibold hover:underline"
        >
          <i class="fa fa-search" aria-hidden="true"></i>
          <span>Recherche</span>
        </a>
        <a
          href="{{ path('app_profile_favoris') }}"
          class="text-talenteko-orange-500 flex items-center gap-2 font-semibold hover:underline"
        >
          <i class="fa fa-heart" aria-hidden="true"></i>
          <span>Favoris</span>
        </a>
        <a
          href="#"
          class="text-talenteko-orange-500 flex items-center gap-2 font-semibold hover:underline"
        >
          <i class="fa fa-envelope" aria-hidden="true"></i>
          <span>Messages</span>
        </a>
      </nav>

      {# CTA : Déposer une annonce #}
      <a
        href="{{ path('app_listing_new') }}"
        class="btn-outline flex items-center gap-2"
        aria-label="Déposer une annonce"
      >
        <i class="fa fa-plus-circle" aria-hidden="true"></i>
        <span>Déposer une annonce</span>
      </a>

      {# CTA : Connexion #}
      <a
        href="{{ path('app_login') }}"
        class="btn-primary flex items-center gap-2"
        aria-label="Se connecter à votre compte"
      >
        <i class="fa fa-user" aria-hidden="true"></i>
        <span>Se connecter</span>
      </a>
    </div>
  </div>

  {# BARRE DES CATÉGORIES visible uniquement sur certaines pages #}
  {% set current_route = app.request.attributes.get('_route') %}
  {% if current_route in ['app_home', 'app_search'] %}
    <nav
      aria-label="Catégories"
      class="border-talenteko-orange-500 border-t bg-white py-3"
    >
      <div
        class="mx-auto flex max-w-7xl flex-wrap justify-center gap-2 px-4 text-sm"
      >
        {% set categories = [
          'Bricolage',
          'Bien-être',
          'Jardinage',
          'Éducation',
          'Informatique',
          'Langues',
          'Art',
          'Marketing',
          'Administratif',
          'Juridique'
        ] %}
        {% for cat in categories %}
          <a
            href="#"
            class="text-talenteko-blue rounded-full border border-orange-100 bg-white px-4 py-1.5 shadow-sm hover:bg-orange-50"
          >
            {{ cat }}
          </a>
        {% endfor %}
      </div>
    </nav>
  {% endif %}
</header>
