{# ============================================================================
   HEADER PUBLIC — TalentÉkô
   Pages : login, register, reset, FAQ, contact, mentions, etc.
   Version très légère
============================================================================ #}

{% set isUser = app.user is not null and app.user.id is not null %}

<header role="banner"
        class="bg-white dark:bg-talenteko-blue-900 shadow-sm"
        data-controller="header-nav">

    <div class="mx-auto max-w-7xl w-full flex items-center justify-between gap-6 px-6 py-4">

        {# --------------
           1 — LOGO
        -----------------#}
        <a href="{{ path('app_home') }}"
           class="flex items-center gap-3 focus:outline-none focus-visible:ring-2 focus-visible:ring-talenteko-orange-500 rounded-md">

            <img src="{{ asset('images/talenteko_logo.png') }}"
                 alt="Logo TalentÉkô"
                 class="h-11 w-auto rounded-full object-contain"/>

            <span class="hidden sm:inline text-lg font-extrabold leading-tight">
                <span class="text-talenteko-blue-900 dark:text-white">Talent</span><span class="text-talenteko-orange-500">Ékô</span>
            </span>
        </a>

        {# ---------------------------------------------
           2 — NAVIGATION SIMPLE (Accueil / Recherche)
        -----------------------------------------------#}
        <nav class="hidden md:flex items-center gap-8 text-sm font-semibold text-talenteko-blue-900 dark:text-white">
            <a href="{{ path('app_home') }}" class="hover:text-talenteko-orange-600 transition">
                Accueil
            </a>
            <a href="{{ path('app_search') }}" class="hover:text-talenteko-orange-600 transition">
                Recherche
            </a>
            <a href="{{ path('app_faq') }}" class="hover:text-talenteko-orange-600 transition">
                FAQ
            </a>
        </nav>

        {# ----------------------------------------------------------
           3 — SWITCH Connexion / Déconnexion
        ----------------------------------------------------------- #}
        <div class="flex items-center gap-4">

            {% if isUser %}
                <a href="{{ path('app_profile_dashboard') }}"
                   class="btn-outline hidden md:flex items-center gap-2">
                    <i class="fa fa-user-circle"></i>
                    <span>Mon espace</span>
                </a>

                <a href="{{ path('app_logout') }}"
                   class="btn-primary hidden md:flex items-center gap-2">
                    <i class="fa fa-right-from-bracket"></i>
                    <span>Se déconnecter</span>
                </a>

            {% else %}
                <a href="{{ path('app_login') }}"
                   class="btn-primary hidden md:flex items-center gap-2">
                    <i class="fa fa-user"></i>
                    <span>Se connecter</span>
                </a>
            {% endif %}

            {# ------------------------------------------------------
               4 — Menu mobile (burgers)
            ------------------------------------------------------- #}
            <button class="md:hidden rounded-md p-2 text-talenteko-orange-500
                           focus:outline-none focus-visible:ring-2 focus-visible:ring-talenteko-orange-500"
                    aria-label="Menu mobile"
                    data-action="click->header-nav#toggle">
                <i class="fa fa-bars text-xl"></i>
            </button>

            {% include 'partials/_mobile_menu.html.twig' %}
        </div>
    </div>
</header>
