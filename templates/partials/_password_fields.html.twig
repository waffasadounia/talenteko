{# ============================================================================
   Partial : Champs de mot de passe + confirmation
   TalentÉkô — Compatibilité totale Stimulus (strength + confirm)
   Utilisable pour register, reset-password, profil, admin
   ============================================================================ #}

<div data-controller="password-strength password-confirm" class="space-y-6">

  {# ========================= MOT DE PASSE ========================= #}
  <div class="space-y-1">
    <label for="{{ field_first.vars.id }}" class="form-label">
      {{ label_first|default('Mot de passe') }}
      {% if field_first.vars.required %}
        <span class="form-required">*</span>
      {% endif %}
    </label>

    {{ form_widget(field_first, {
      attr: {
        class: 'form-input',
        autocomplete: 'new-password',
        'data-password-strength-target': 'input',
        'data-password-confirm-target': 'original',
        'data-action': 'input->password-strength#check input->password-confirm#check'
      }
    }) }}

    <div data-password-strength-target="feedback"
         class="mt-2 text-xs space-y-1"
         aria-live="polite"></div>

    {{ form_errors(field_first) }}
  </div>

  {# ====================== CONFIRMATION ====================== #}
  <div class="space-y-1">
    <label for="{{ field_second.vars.id }}" class="form-label">
      {{ label_second|default('Confirmer le mot de passe') }}
      {% if field_second.vars.required %}
        <span class="form-required">*</span>
      {% endif %}
    </label>

    {{ form_widget(field_second, {
      attr: {
        class: 'form-input',
        autocomplete: 'new-password',
        'data-password-confirm-target': 'confirm',
        'data-action': 'input->password-confirm#check'
      }
    }) }}

    <div data-password-confirm-target="feedback"
         class="text-xs mt-1 min-h-[18px]"
         aria-live="polite"></div>

    {{ form_errors(field_second) }}
  </div>

</div>
