{% extends 'base.html.twig' %}
{% block title %}
  Messages | Admin TalentÉkô
{% endblock %}

{% block body %}
  <section class="mx-auto max-w-6xl px-4 py-10">
    <h1 class="mb-6 text-3xl font-bold text-talenteko-blue-900">Gestion des messages</h1>
    {% include 'admin/_admin_nav.html.twig' %}
    <ul role="list" class="divide-y divide-gray-100">
      {% for message in messages %}
        <li class="py-3">
          <p class="text-sm text-gray-700">
            <strong>{{ message.sender.displayName }}</strong> → <strong>
              {{ message.recipient.displayName }}
            </strong>
          </p>
          <p class="truncate text-sm text-gray-600">
            {{ message.content|u.truncate(80, '…') }}
          </p>
          <form
            method="post"
            action="{{
            path(
              'app_admin_message_delete',
              {
                id: message.id
              }
            )
            }}"
            class="mt-2"
          >
            <button class="btn-outline text-xs text-red-600">Supprimer</button>
          </form>
        </li>
      {% else %}
        <li class="py-4 text-gray-500">Aucun message enregistré.</li>
      {% endfor %}
    </ul>
  </section>
{% endblock %}
